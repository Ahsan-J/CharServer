{"version":3,"file":"socket.js","sourceRoot":"","sources":["../../src/socket/socket.ts"],"names":[],"mappings":";;;;;;AAAA,gDAAwB;AACxB,0DAAiC;AACjC,oDAAuB;AACvB,yDAAiC;AAEjC,mEAA2C;AAC3C,uEAA8C;AAC9C,sDAAgF;AAChF,+EAAwD;AACxD,sDAA8B;AAC9B,4CAAmD;AACnD,gDAA8C;AAE9C,MAAM,MAAM,GAAG,IAAI,gBAAM,EAAE,CAAC;AAC5B,IAAI,MAA0B,CAAC;AAC/B,IAAI,EAAmB,CAAC;AAEX,QAAA,iBAAiB,GAAG,CAAC,WAAiC,EAAe,EAAE;IAClF,MAAM,gBAAgB,GAAG,cAAI,CAAC,YAAY,CAAC,WAAW,CAAC,CAAA;IACvD,EAAE,GAAG,mBAAQ,CAAC,gBAAgB,EAAE,EAAE,UAAU,EAAE,CAAC,WAAW,CAAC,EAAE,WAAW,EAAE,IAAI,EAAE,CAAC,CAAA;IAEjF,MAAM,GAAG,EAAE,CAAC,EAAE,CAAC,uBAAe,CAAC,CAAC;IAEhC,MAAM,CAAC,EAAE,CAAC,YAAY,EAAE,KAAK,EAAC,MAAM,EAAC,EAAE;QACrC,MAAM,IAAI,GAAG,gBAAC,CAAC,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QAE9C,IAAI,IAAI,IAAI,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,QAAQ,EAAE;YAC3C,oBAAU,CAAC,YAAY,CAAC,EAAC,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,MAAM,CAAC,EAAE,EAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;SAC7F;QAED,MAAM,CAAC,EAAE,CAAC,YAAY,EAAE,GAAG,EAAE;YAE3B,oBAAU,CAAC,YAAY,CAAC,EAAC,MAAM,EAAE,IAAI,EAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;QACzE,CAAC,CAAC,CAAA;QAGF,MAAM,QAAQ,GAAG,MAAM,sBAAW,CAAC,sBAAsB,CAAC,EAAC,UAAU,EAAE,IAAI,EAAE,MAAM,EAAE,sBAAS,EAAE,EAAC,CAAC,CAAA;QAClG,IAAI,QAAQ,CAAC,KAAK,EAAE;YAClB,gBAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,EAAE,OAAO,CAAC,EAAE;gBAClC,IAAG,mBAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,EAAE;oBAC5C,OAAM;iBACP;gBACD,MAAM,IAAI,GAAwB;oBAChC,QAAQ,EAAE,OAAO,CAAC,QAAQ,CAAC,CAAC,IAAI,EAAE;oBAClC,UAAU,EAAE,OAAO,CAAC,UAAU,CAAC,CAAC,IAAI,EAAE;oBACtC,EAAE,EAAE,OAAO,CAAC,EAAE,CAAC,CAAC,IAAI,EAAE;oBACtB,OAAO,EAAE,OAAO,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE;oBAChC,IAAI,EAAG,OAAO,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE;oBAC3B,MAAM,EAAE,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,IAAI,GAAG,CAAC;iBAC1C,CAAA;gBAED,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;gBAChD,sBAAW,CAAC,YAAY,CAAC;oBACvB,EAAE,EAAE,OAAO,CAAC,EAAE,CAAC,CAAC;oBAChB,UAAU,EAAE,OAAO,CAAC,UAAU,CAAC,CAAC,IAAI,EAAE;oBACtC,QAAQ,EAAE,OAAO,CAAC,QAAQ,CAAC,CAAC,IAAI,EAAE;oBAClC,OAAO,EAAE,OAAO,CAAC,OAAO,CAAC,CAAC;oBAC1B,IAAI,EAAE,OAAO,CAAC,OAAO,CAAC,CAAC;oBACvB,MAAM,EAAE,wBAAW,CAAC,oBAAO,CAAC,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC;iBAChE,CAAC,CAAA;YACJ,CAAC,CAAC,CAAA;SACH;IACH,CAAC,CAAC,CAAA;IAEF,OAAO,gBAAgB,CAAA;AACzB,CAAC,CAAA;AAEY,QAAA,oBAAoB,GAAG,GAAG,EAAE;IAEvC,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,KAAK,EAAC,GAAG,EAAC,EAAE;QAC1B,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC;QACjB,GAAG,CAAC,IAAI,GAAG,SAAS,CAAA;IACtB,CAAC,CAAC,CAAA;IAEF,MAAM,CAAC,IAAI,CAAC,YAAY,EAAE,KAAK,EAAC,GAAG,EAAC,EAAE;;QACpC,MAAM,IAAI,SAAuB,GAAG,CAAC,OAAO,0CAAE,IAAI,CAAC;QAEnD,IAAG,CAAC,kBAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE;YAC1B,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC;YACjB,MAAM,QAAQ,GAAyB;gBACrC,MAAM,EAAE,GAAG;gBACX,IAAI,EAAE,yDAAyD;gBAC/D,OAAO,EAAE,SAAS;gBAClB,IAAI,EAAE,WAAW;aAClB,CAAA;YACD,OAAO,GAAG,CAAC,IAAI,GAAG,QAAQ,CAAA;SAC3B;QAED,IAAG,CAAC,kBAAQ,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE;YAC7B,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC;YACjB,MAAM,QAAQ,GAAyB;gBACrC,MAAM,EAAE,GAAG;gBACX,IAAI,EAAE,4DAA4D;gBAClE,OAAO,EAAE,SAAS;gBAClB,IAAI,EAAE,WAAW;aAClB,CAAA;YACD,OAAO,GAAG,CAAC,IAAI,GAAG,QAAQ,CAAA;SAC3B;QAED,IAAG,CAAC,kBAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE;YAC3B,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC;YACjB,MAAM,QAAQ,GAAyB;gBACrC,MAAM,EAAE,GAAG;gBACX,IAAI,EAAE,0DAA0D;gBAChE,OAAO,EAAE,SAAS;gBAClB,IAAI,EAAE,WAAW;aAClB,CAAA;YACD,OAAO,GAAG,CAAC,IAAI,GAAG,QAAQ,CAAA;SAC3B;QAED,IAAI;YACF,MAAM,QAAQ,GAAW,OAAA,CAAC,MAAM,oBAAU,CAAC,SAAS,CAAC,EAAC,MAAM,EAAE,IAAI,CAAC,UAAU,EAAC,CAAC,CAAC,CAAC,IAAI,0CAAE,QAAQ,CAAC,CAAC,KAAK,EAAE,CAAC;YACzG,MAAM,eAAe,GAAG,gBAAC,CAAC,KAAK,CAAC,gBAAC,CAAC,KAAK,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC,IAAI,EAAE,CAAC;YAC9D,IAAI,MAAM,GAAG,sBAAS,EAAE,CAAC;YACzB,IAAI,CAAC,EAAE,GAAG,iBAAO,CAAC,QAAQ,EAAE,CAAC;YAC7B,IAAI,QAAQ,IAAI,eAAe,IAAI,gBAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,OAAC,EAAE,CAAC,IAAI,CAAC,eAAe,CAAC,0CAAE,SAAS,CAAC,EAAE,QAAQ,CAAC,EAAE;gBACzG,MAAM,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;gBAC/C,MAAM,GAAG,oBAAO,CAAC,MAAM,CAAC,CAAA;aACzB;YAED,MAAM,sBAAW,CAAC,YAAY,CAAC;gBAC7B,EAAE,EAAE,IAAI,CAAC,EAAE;gBACX,UAAU,EAAE,IAAI,CAAC,UAAU;gBAC3B,QAAQ,EAAE,IAAI,CAAC,QAAQ;gBACvB,OAAO,EAAE,IAAI,CAAC,OAAO;gBACrB,MAAM;aACP,CAAC,CAAA;YACF,MAAM,0BAAiB,CAAC,YAAY,CAAC;gBACnC,UAAU,EAAE,IAAI,CAAC,UAAU;gBAC3B,QAAQ,EAAE,IAAI,CAAC,QAAQ,IAAI,EAAE;gBAC7B,OAAO,EAAE,IAAI,CAAC,OAAO;gBACrB,SAAS,EAAE,IAAI,CAAC,EAAE;aACnB,CAAC,CAAA;YACF,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC;SAClB;QAAC,OAAO,CAAC,EAAE;YACV,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YACf,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC;SAClB;QAED,MAAM,QAAQ,GAAyB;YACrC,MAAM,EAAE,GAAG;YACX,IAAI,EAAE,cAAc;YACpB,OAAO,EAAE,SAAS;YAClB,IAAI,EAAE,aAAa;SACpB,CAAA;QAED,GAAG,CAAC,IAAI,GAAG,QAAQ,CAAC;IACtB,CAAC,CAAC,CAAC;IAEH,MAAM,CAAC,IAAI,CAAC,eAAe,EAAE,KAAK,EAAC,GAAG,EAAC,EAAE;;QACvC,MAAM,EAAC,UAAU,EAAE,QAAQ,EAAC,GAAI,OAAA,GAAG,CAAC,OAAO,0CAAE,IAAI,KAAI,EAAE,CAAC;QACxD,MAAM,EAAC,QAAQ,EAAE,SAAS,EAAC,GAAG,GAAG,CAAC,OAAO,CAAC,KAAK,IAAI,EAAE,CAAC;QAEtD,IAAG,CAAC,kBAAQ,CAAC,UAAU,CAAC,EAAE;YACxB,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC;YACjB,MAAM,QAAQ,GAAyB;gBACrC,MAAM,EAAE,GAAG;gBACX,IAAI,EAAE,4DAA4D;gBAClE,OAAO,EAAE,SAAS;gBAClB,IAAI,EAAE,WAAW;aAClB,CAAA;YACD,OAAO,GAAG,CAAC,IAAI,GAAG,QAAQ,CAAA;SAC3B;QAED,IAAG,CAAC,kBAAQ,CAAC,QAAQ,CAAC,EAAE;YACtB,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC;YACjB,MAAM,QAAQ,GAAyB;gBACrC,MAAM,EAAE,GAAG;gBACX,IAAI,EAAE,0DAA0D;gBAChE,OAAO,EAAE,SAAS;gBAClB,IAAI,EAAE,WAAW;aAClB,CAAA;YACD,OAAO,GAAG,CAAC,IAAI,GAAG,QAAQ,CAAA;SAC3B;QAED,MAAM,OAAO,GAAG,MAAM,sBAAW,CAAC,oBAAoB,CAAC;YACrD,UAAU;YACV,QAAQ;SACT,CAAC,CAAC;QAEH,MAAM,gBAAgB,GAAG,gBAAC,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC,CAAC,EAAsB,EAAE;YACtE,OAAO;gBACL,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,EAAE;gBAChB,QAAQ,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,EAAE;gBAC5B,UAAU,EAAE,CAAC,CAAC,UAAU,CAAC,CAAC,IAAI,EAAE;gBAChC,OAAO,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE;gBAC1B,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE;gBACpB,MAAM,EAAE,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,IAAI,GAAG,CAAC;aACpC,CAAA;QACH,CAAC,CAAC,CAAA;QAEF,IAAI,IAAI,GAA8B,EAAE,CAAA;QAExC,IAAG,SAAS,IAAI,QAAQ,EAAE;YACxB,MAAM,MAAM,GAAG,gBAAC,CAAC,KAAK,CAAC,gBAAgB,EAAE,QAAQ,CAAC,CAAA;YAClD,IAAI,GAAG,MAAM,CAAC,SAAS,CAAQ,CAAA;SAChC;aAAM;YACL,IAAI,GAAG,gBAAgB,CAAA;SACxB;QAGD,MAAM,QAAQ,GAA4C;YACxD,MAAM,EAAE,GAAG;YACX,IAAI;YACJ,OAAO,EAAE,SAAS;YAClB,IAAI,EAAE,aAAa;SACpB,CAAA;QAED,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC;QACjB,GAAG,CAAC,IAAI,GAAG,QAAQ,CAAC;IAEtB,CAAC,CAAC,CAAC;IAEH,MAAM,CAAC,IAAI,CAAC,OAAO,EAAE,KAAK,EAAC,GAAG,EAAC,EAAE;;QAC/B,MAAM,EAAC,EAAE,EAAC,GAAI,OAAA,GAAG,CAAC,OAAO,0CAAE,IAAI,KAAI,EAAE,CAAC;QAEtC,IAAG,CAAC,kBAAQ,CAAC,EAAE,CAAC,EAAE;YAChB,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC;YACjB,OAAO,GAAG,CAAC,IAAI,GAAG,oDAAoD,CAAA;SACvE;QAED,MAAM,OAAO,GAAG,MAAM,0BAAiB,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC;QAE3D,MAAM,IAAI,GAAmC,gBAAC,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC,CAAC,EAA2B,EAAE;YAC/F,MAAM,CAAC,YAAY,EAAE,cAAc,CAAC,GAAG,0BAAiB,CAAC,uBAAuB,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,IAAI,EAAE,CAAC,CAAA;YAE3G,OAAO;gBACL,QAAQ,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,EAAE;gBAC5B,UAAU,EAAE,YAAY,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,YAAY;gBAChF,OAAO,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE;gBAC1B,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE;gBACpB,SAAS,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,IAAI,EAAE;aAC/B,CAAA;QACH,CAAC,CAAC,CAAA;QAEF,MAAM,QAAQ,GAAiD;YAC7D,MAAM,EAAE,GAAG;YACX,IAAI;YACJ,OAAO,EAAE,SAAS;YAClB,IAAI,EAAE,WAAW;SAClB,CAAA;QAED,GAAG,CAAC,MAAM,GAAG,GAAG,CAAC;QACjB,GAAG,CAAC,IAAI,GAAG,QAAQ,CAAC;IAEtB,CAAC,CAAC,CAAC;IAEH,OAAO,MAAM,CAAC;AAChB,CAAC,CAAA"}